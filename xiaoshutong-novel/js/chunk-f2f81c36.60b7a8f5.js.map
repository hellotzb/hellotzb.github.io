{"version":3,"sources":["webpack:///./src/components/Header.vue?e9f3","webpack:///src/components/Header.vue","webpack:///./src/components/Header.vue?4c35","webpack:///./src/components/Header.vue","webpack:///./src/views/BookDetail.vue?4469","webpack:///src/views/BookDetail.vue","webpack:///./src/views/BookDetail.vue?dede","webpack:///./src/views/BookDetail.vue","webpack:///./node_modules/core-js/modules/es.string.match.js","webpack:///./src/components/Header.vue?d628","webpack:///./src/views/BookDetail.vue?8cd9","webpack:///./node_modules/core-js/modules/es.array.slice.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","back","_t","star","loading","bool","class","active","collect","remove","add","_e","staticRenderFns","name","props","computed","b","length","forEach","element","id","methods","$router","addCollect","removeCollect","$route","query","component","_v","currentBook","_s","title","author","majorCate","popularity","retentionRatio","date","continueRead","startRead","style","backgroundColor","borderColor","margin","padding","short","isShort","longIntro","$event","show","lastChapter","shortNum","_l","item","index","key","nickname","lv","model","value","callback","$$v","$set","expression","rating","content","updated","split","longNum","longComment","slice","likeCount","toComment","relevant","toDetail","_id","height","width","currentBookSource","chaptersCount","currentBookChapters","cataLoading","components","Header","Catalogue","data","isFinish","axiosNum","latelyFollower","toFixed","reg","match","localStorage","getItem","watch","console","log","initData","renderPage","created","beforeRouteEnter","next","vm","$store","commit","beforeRouteLeave","axios","get","getSource","then","$toast","Number","push","fixRegExpWellKnownSymbolLogic","anObject","toLength","requireObjectCoercible","advanceStringIndex","regExpExec","MATCH","nativeMatch","maybeCallNative","regexp","O","matcher","undefined","call","RegExp","String","res","done","rx","S","global","fullUnicode","unicode","lastIndex","result","A","n","matchStr","$","isObject","isArray","toAbsoluteIndex","toIndexedObject","createProperty","wellKnownSymbol","arrayMethodHasSpeciesSupport","arrayMethodUsesToLength","HAS_SPECIES_SUPPORT","USES_TO_LENGTH","ACCESSORS","0","1","SPECIES","nativeSlice","max","Math","target","proto","forced","start","end","Constructor","k","fin","constructor","Array","prototype"],"mappings":"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","file":"js/chunk-f2f81c36.60b7a8f5.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"header\"},[_c('van-icon',{staticClass:\"left\",attrs:{\"name\":\"arrow-left\"},on:{\"click\":_vm.back}}),_c('p',[_vm._t(\"default\")],2),(_vm.star && !_vm.loading)?[(!_vm.bool)?_c('van-icon',{staticClass:\"right\",attrs:{\"name\":\"star-o\"},on:{\"click\":_vm.add}}):_c('van-icon',{staticClass:\"right\",class:{ active: _vm.collect },attrs:{\"name\":\"star\"},on:{\"click\":_vm.remove}})]:_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"header\">\r\n    <van-icon class=\"left\" name=\"arrow-left\" @click=\"back\" />\r\n    <p><slot></slot></p>\r\n    <template v-if=\"star && !loading\">\r\n      <van-icon class=\"right\" name=\"star-o\" @click=\"add\" v-if=\"!bool\" />\r\n      <van-icon\r\n        class=\"right\"\r\n        v-bind:class=\"{ active: collect }\"\r\n        name=\"star\"\r\n        @click=\"remove\"\r\n        v-else\r\n      />\r\n    </template>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState, mapMutations } from \"vuex\";\r\n\r\nexport default {\r\n  name: \"Header\",\r\n  props: [\"loading\"],\r\n  computed: {\r\n    ...mapState([\"star\", \"collect\", \"currentBook\"]),\r\n    bool() {\r\n      //小说是否已经收藏\r\n      var b = false;\r\n      if (this.collect.length) {\r\n        this.collect.forEach((element) => {\r\n          if (element.id == this.$route.query.id) {\r\n            b = true;\r\n          }\r\n        });\r\n      }\r\n      return b;\r\n    },\r\n  },\r\n  methods: {\r\n    ...mapMutations([\"removeCollect\", \"addCollect\"]),\r\n    back() {\r\n      // this.$router.push({ name: \"Store\" });\r\n      // if (this.$route.query.type) {\r\n      //   this.$router.push({ name: \"Store\" });\r\n      // }else {\r\n      //   this.$router.back();\r\n      // }\r\n      this.$router.back();\r\n    },\r\n    add() {\r\n      var { _id: id, cover: img, title } = this.currentBook;\r\n      this.addCollect({ id, img, title });\r\n    },\r\n    remove() {\r\n      this.removeCollect(this.$route.query.id);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.header {\r\n  top: 0;\r\n  color: white;\r\n  width: 100%;\r\n  font-size: 18px;\r\n  background-color: #f1867a;\r\n  height: 50px;\r\n  line-height: 50px;\r\n  // margin-bottom: 50px;\r\n  text-align: center;\r\n  letter-spacing: 3px;\r\n  font-weight: bold;\r\n  position: fixed;\r\n  z-index: 10;\r\n  .van-icon.left {\r\n    position: absolute;\r\n    font-size: 25px;\r\n    left: 10px;\r\n    top: 50%;\r\n    transform: translateY(-50%);\r\n  }\r\n  .van-icon.right {\r\n    position: absolute;\r\n    font-size: 25px;\r\n    right: 10px;\r\n    top: 50%;\r\n    transform: translateY(-50%);\r\n  }\r\n  .active {\r\n    color: #ffd21e;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Header.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Header.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Header.vue?vue&type=template&id=4408bcba&scoped=true&\"\nimport script from \"./Header.vue?vue&type=script&lang=js&\"\nexport * from \"./Header.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Header.vue?vue&type=style&index=0&id=4408bcba&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4408bcba\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"book-detail\"},[_c('Header',{attrs:{\"loading\":_vm.loading}},[_vm._v(\"书籍详情\")]),_c('van-skeleton',{attrs:{\"title\":\"\",\"avatar\":\"\",\"row\":3,\"loading\":_vm.loading,\"avatar-shape\":\"square\"}},[(_vm.currentBook)?_c('div',{staticClass:\"book\"},[_c('div',{staticClass:\"detail\"},[_c('div',{staticClass:\"pic\"},[_c('img',{attrs:{\"src\":(\"http://statics.zhuishushenqi.com\" + (_vm.currentBook.cover))}})]),_c('div',{staticClass:\"info\"},[_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.currentBook.title))]),_c('div',{staticClass:\"other\"},[_c('span',{staticClass:\"author\"},[_vm._v(_vm._s(_vm.currentBook.author))]),_c('span',{staticClass:\"split\"},[_vm._v(\"|\")]),_c('span',{staticClass:\"cate\"},[_vm._v(_vm._s(_vm.currentBook.majorCate))]),_c('span',{staticClass:\"split\"},[_vm._v(\"|\")]),_c('span',{staticClass:\"popularity\"},[_vm._v(_vm._s(_vm.popularity)+\"人气\")])]),_c('div',{staticClass:\"retention\"},[_vm._v(\" 读者留存率：\"+_vm._s(_vm.currentBook.retentionRatio)+\"% \")]),_c('div',{staticClass:\"update\"},[_vm._v(\" 更新时间：\"+_vm._s(_vm.date)+\" \"),(!_vm.bool)?_c('van-button',{attrs:{\"type\":\"default\",\"size\":\"mini\",\"color\":\"#2495f3\",\"round\":\"\"},on:{\"click\":_vm.startRead}},[_vm._v(\"开始阅读\")]):_c('van-button',{attrs:{\"type\":\"default\",\"size\":\"mini\",\"color\":\"#2495f3\",\"round\":\"\"},on:{\"click\":_vm.continueRead}},[_vm._v(\"继续阅读\")])],1)])]),_c('van-divider',{style:({\n          backgroundColor: '#fff',\n          borderColor: '#ddd',\n          margin: 0,\n          padding: '0 10px',\n        })}),_c('div',{staticClass:\"desc\",class:{ short: _vm.isShort }},[_vm._v(\" \"+_vm._s(_vm.currentBook.longIntro)+\" \"),(_vm.isShort)?_c('van-icon',{attrs:{\"name\":\"arrow-down\"},on:{\"click\":function($event){_vm.isShort = false}}}):_c('van-icon',{attrs:{\"name\":\"arrow-up\"},on:{\"click\":function($event){_vm.isShort = true}}})],1),_c('van-divider',{style:({\n          backgroundColor: '#fff',\n          borderColor: '#ddd',\n          margin: 0,\n          padding: '10px 10px 0 10px',\n        })}),_c('div',{staticClass:\"catalogue\",on:{\"click\":function($event){_vm.show = true}}},[_c('p',[_vm._v(\"目录\")]),_c('div',{staticClass:\"lastest\"},[_c('p',[_vm._v(\"最新章节：\"+_vm._s(_vm.currentBook.lastChapter))]),_c('van-icon',{attrs:{\"name\":\"arrow\"}})],1)]),(_vm.shortNum)?_c('div',{staticClass:\"shortcomment\"},[_c('div',{staticClass:\"title\"},[_vm._v(\" 热门短评\"),_c('span',[_vm._v(_vm._s(_vm.shortNum)+\"条\")])]),_c('van-divider',{style:({\n            backgroundColor: '#fff',\n            borderColor: '#ddd',\n            margin: 0,\n            padding: '8px 0 0 0',\n          })}),_c('van-swipe',{attrs:{\"show-indicators\":false,\"vertical\":\"\",\"autoplay\":3000,\"touchable\":false}},_vm._l((_vm.shortComment),function(item,index){return _c('van-swipe-item',{key:index},[_c('div',{staticClass:\"info\"},[_c('div',{staticClass:\"avatar\"},[_c('img',{attrs:{\"src\":(\"http://statics.zhuishushenqi.com\" + (item.author.avatar))}})]),_c('div',{staticClass:\"nickname\"},[_vm._v(_vm._s(item.author.nickname))]),_c('div',{staticClass:\"level\"},[_vm._v(\"Lv.\"+_vm._s(item.author.lv))])]),_c('div',{staticClass:\"star\"},[_c('van-rate',{attrs:{\"size\":14,\"color\":\"#ffd21e\",\"void-icon\":\"star\",\"void-color\":\"#eee\",\"readonly\":\"\"},model:{value:(item.rating),callback:function ($$v) {_vm.$set(item, \"rating\", $$v)},expression:\"item.rating\"}}),_c('span',[_vm._v(_vm._s(item.rating == 5 ? \"必看神作\" : item.rating == 4 ? \"非常喜欢\" : item.rating == 3 ? \"值得一看\" : item.rating == 2 ? \"打发时间\" : \"浪费生命\"))])],1),_c('div',{staticClass:\"content\"},[_vm._v(_vm._s(item.content))]),_c('div',{staticClass:\"date\"},[_c('span',{staticClass:\"dt\"},[_vm._v(_vm._s(item.updated.split(/[T\\.]/)[0]))]),_c('span',{staticClass:\"time\"},[_vm._v(_vm._s(item.updated.split(/[T\\.]/)[1]))])])])}),1)],1):_vm._e(),(_vm.longNum)?_c('div',{staticClass:\"longcomment\"},[_c('div',{staticClass:\"title\"},[_vm._v(\" 热门书评\"),_c('span',[_vm._v(_vm._s(_vm.longNum)+\"条\")])]),_c('van-divider',{style:({\n            backgroundColor: '#fff',\n            borderColor: '#ddd',\n            margin: 0,\n            padding: '8px 0 0 0',\n          })}),_vm._l((_vm.longComment.slice(0, 3)),function(item,index){return _c('div',{key:index,staticClass:\"item\"},[_c('div',{staticClass:\"info\"},[_c('div',{staticClass:\"avatar\"},[_c('img',{attrs:{\"src\":(\"http://statics.zhuishushenqi.com\" + (item.author.avatar))}})]),_c('div',{staticClass:\"nickname\"},[_vm._v(_vm._s(item.author.nickname))]),_c('div',{staticClass:\"level\"},[_vm._v(\"Lv.\"+_vm._s(item.author.lv))])]),_c('div',{staticClass:\"star\"},[_c('van-rate',{attrs:{\"size\":14,\"color\":\"#ffd21e\",\"void-icon\":\"star\",\"void-color\":\"#eee\",\"readonly\":\"\"},model:{value:(item.rating),callback:function ($$v) {_vm.$set(item, \"rating\", $$v)},expression:\"item.rating\"}}),_c('span',[_vm._v(_vm._s(item.rating == 5 ? \"必看神作\" : item.rating == 4 ? \"非常喜欢\" : item.rating == 3 ? \"值得一看\" : item.rating == 2 ? \"打发时间\" : \"浪费生命\"))])],1),_c('div',{staticClass:\"tit\"},[_vm._v(_vm._s(item.title))]),_c('div',{staticClass:\"content\"},[_vm._v(_vm._s(item.content))]),_c('div',{staticClass:\"bottom\"},[_c('div',{staticClass:\"left\"},[_c('span',{staticClass:\"dt\"},[_vm._v(_vm._s(item.updated.split(/[T\\.]/)[0]))]),_c('span',{staticClass:\"time\"},[_vm._v(_vm._s(item.updated.split(/[T\\.]/)[1]))])]),_c('div',{staticClass:\"right\"},[_c('van-icon',{attrs:{\"name\":\"good-job-o\"}}),_c('div',{staticClass:\"likecount\"},[_vm._v(_vm._s(item.likeCount))])],1)]),_c('van-divider',{style:({\n              backgroundColor: '#fff',\n              borderColor: '#ddd',\n              margin: 0,\n            })})],1)}),(_vm.longComment.length)?_c('div',{staticClass:\"checkall\",on:{\"click\":_vm.toComment}},[_vm._v(\" 查看全部\"+_vm._s(_vm.longComment.length ? _vm.longComment.length : 0)+\"条书评 \")]):_vm._e()],2):_vm._e(),(_vm.relevant.length)?_c('div',{staticClass:\"relevant\"},[_c('p',[_vm._v(\"相关推荐\")]),_c('van-divider',{style:({\n            backgroundColor: '#fff',\n            borderColor: '#ddd',\n            margin: 0,\n            padding: '5px 0',\n          })}),_c('ul',_vm._l((_vm.relevant),function(item,index){return _c('li',{key:index,on:{\"click\":function($event){return _vm.toDetail(item._id)}}},[_c('img',{attrs:{\"src\":(\"http://statics.zhuishushenqi.com\" + (item.cover))}})])}),0)],1):_vm._e()],1):_vm._e()]),_c('van-popup',{style:({ height: '100%', width: '70%' }),attrs:{\"position\":\"left\",\"closeable\":\"\"},model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}},[(_vm.currentBookSource)?_c('Catalogue',{attrs:{\"count\":_vm.currentBookSource.chaptersCount,\"chapters\":_vm.currentBookChapters,\"loading\":_vm.cataLoading}}):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"book-detail\">\r\n    <Header :loading = \"loading\">书籍详情</Header>\r\n    <van-skeleton\r\n      title\r\n      avatar\r\n      :row=\"3\"\r\n      :loading=\"loading\"\r\n      avatar-shape=\"square\"\r\n    >\r\n      <div class=\"book\"  v-if=\"currentBook\">\r\n        <div class=\"detail\">\r\n          <div class=\"pic\">\r\n            <img\r\n              :src=\"`http://statics.zhuishushenqi.com${currentBook.cover}`\"\r\n            />\r\n          </div>\r\n          <div class=\"info\">\r\n            <div class=\"title\">{{ currentBook.title }}</div>\r\n            <div class=\"other\">\r\n              <span class=\"author\">{{ currentBook.author }}</span>\r\n              <span class=\"split\">|</span>\r\n              <span class=\"cate\">{{ currentBook.majorCate }}</span>\r\n              <span class=\"split\">|</span>\r\n              <span class=\"popularity\">{{ popularity }}人气</span>\r\n            </div>\r\n            <div class=\"retention\">\r\n              读者留存率：{{ currentBook.retentionRatio }}%\r\n            </div>\r\n            <div class=\"update\">\r\n              更新时间：{{ date }}\r\n              <van-button\r\n                @click=\"startRead\"\r\n                type=\"default\"\r\n                size=\"mini\"\r\n                color=\"#2495f3\"\r\n                round\r\n                v-if=\"!bool\"\r\n                >开始阅读</van-button\r\n              >\r\n              <van-button\r\n                @click=\"continueRead\"\r\n                type=\"default\"\r\n                size=\"mini\"\r\n                color=\"#2495f3\"\r\n                round\r\n                v-else\r\n                >继续阅读</van-button\r\n              >\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <van-divider\r\n          :style=\"{\r\n            backgroundColor: '#fff',\r\n            borderColor: '#ddd',\r\n            margin: 0,\r\n            padding: '0 10px',\r\n          }\"\r\n        />\r\n        <div class=\"desc\" :class=\"{ short: isShort }\">\r\n          {{ currentBook.longIntro }}\r\n          <van-icon name=\"arrow-down\" @click=\"isShort = false\" v-if=\"isShort\" />\r\n          <van-icon name=\"arrow-up\" @click=\"isShort = true\" v-else />\r\n        </div>\r\n        <van-divider\r\n          :style=\"{\r\n            backgroundColor: '#fff',\r\n            borderColor: '#ddd',\r\n            margin: 0,\r\n            padding: '10px 10px 0 10px',\r\n          }\"\r\n        />\r\n        <div class=\"catalogue\" @click=\"show = true\">\r\n          <p>目录</p>\r\n          <div class=\"lastest\">\r\n            <p>最新章节：{{ currentBook.lastChapter }}</p>\r\n            <van-icon name=\"arrow\" />\r\n          </div>\r\n        </div>\r\n        <div class=\"shortcomment\" v-if=\"shortNum\">\r\n          <div class=\"title\">\r\n            热门短评<span>{{ shortNum }}条</span>\r\n          </div>\r\n          <van-divider\r\n            :style=\"{\r\n              backgroundColor: '#fff',\r\n              borderColor: '#ddd',\r\n              margin: 0,\r\n              padding: '8px 0 0 0',\r\n            }\"\r\n          />\r\n          <van-swipe\r\n            :show-indicators=\"false\"\r\n            vertical\r\n            :autoplay=\"3000\"\r\n            :touchable=\"false\"\r\n          >\r\n            <van-swipe-item v-for=\"(item, index) in shortComment\" :key=\"index\">\r\n              <div class=\"info\">\r\n                <div class=\"avatar\">\r\n                  <img\r\n                    :src=\"`http://statics.zhuishushenqi.com${item.author.avatar}`\"\r\n                  />\r\n                </div>\r\n                <div class=\"nickname\">{{ item.author.nickname }}</div>\r\n                <div class=\"level\">Lv.{{ item.author.lv }}</div>\r\n              </div>\r\n              <div class=\"star\">\r\n                <van-rate\r\n                  v-model=\"item.rating\"\r\n                  :size=\"14\"\r\n                  color=\"#ffd21e\"\r\n                  void-icon=\"star\"\r\n                  void-color=\"#eee\"\r\n                  readonly\r\n                />\r\n                <span>{{\r\n                  item.rating == 5\r\n                    ? \"必看神作\"\r\n                    : item.rating == 4\r\n                    ? \"非常喜欢\"\r\n                    : item.rating == 3\r\n                    ? \"值得一看\"\r\n                    : item.rating == 2\r\n                    ? \"打发时间\"\r\n                    : \"浪费生命\"\r\n                }}</span>\r\n              </div>\r\n              <div class=\"content\">{{ item.content }}</div>\r\n              <div class=\"date\">\r\n                <span class=\"dt\">{{ item.updated.split(/[T\\.]/)[0] }}</span>\r\n                <span class=\"time\">{{ item.updated.split(/[T\\.]/)[1] }}</span>\r\n              </div>\r\n            </van-swipe-item>\r\n          </van-swipe>\r\n        </div>\r\n        <div class=\"longcomment\" v-if=\"longNum\">\r\n          <div class=\"title\">\r\n            热门书评<span>{{ longNum }}条</span>\r\n          </div>\r\n          <van-divider\r\n            :style=\"{\r\n              backgroundColor: '#fff',\r\n              borderColor: '#ddd',\r\n              margin: 0,\r\n              padding: '8px 0 0 0',\r\n            }\"\r\n          />\r\n          <div\r\n            class=\"item\"\r\n            v-for=\"(item, index) in longComment.slice(0, 3)\"\r\n            :key=\"index\"\r\n          >\r\n            <div class=\"info\">\r\n              <div class=\"avatar\">\r\n                <img\r\n                  :src=\"`http://statics.zhuishushenqi.com${item.author.avatar}`\"\r\n                />\r\n              </div>\r\n              <div class=\"nickname\">{{ item.author.nickname }}</div>\r\n              <div class=\"level\">Lv.{{ item.author.lv }}</div>\r\n            </div>\r\n            <div class=\"star\">\r\n              <van-rate\r\n                v-model=\"item.rating\"\r\n                :size=\"14\"\r\n                color=\"#ffd21e\"\r\n                void-icon=\"star\"\r\n                void-color=\"#eee\"\r\n                readonly\r\n              />\r\n              <span>{{\r\n                item.rating == 5\r\n                  ? \"必看神作\"\r\n                  : item.rating == 4\r\n                  ? \"非常喜欢\"\r\n                  : item.rating == 3\r\n                  ? \"值得一看\"\r\n                  : item.rating == 2\r\n                  ? \"打发时间\"\r\n                  : \"浪费生命\"\r\n              }}</span>\r\n            </div>\r\n            <div class=\"tit\">{{ item.title }}</div>\r\n            <div class=\"content\">{{ item.content }}</div>\r\n            <div class=\"bottom\">\r\n              <div class=\"left\">\r\n                <span class=\"dt\">{{ item.updated.split(/[T\\.]/)[0] }}</span>\r\n                <span class=\"time\">{{ item.updated.split(/[T\\.]/)[1] }}</span>\r\n              </div>\r\n              <div class=\"right\">\r\n                <van-icon name=\"good-job-o\" />\r\n                <div class=\"likecount\">{{ item.likeCount }}</div>\r\n              </div>\r\n            </div>\r\n            <van-divider\r\n              :style=\"{\r\n                backgroundColor: '#fff',\r\n                borderColor: '#ddd',\r\n                margin: 0,\r\n              }\"\r\n            />\r\n          </div>\r\n          <div class=\"checkall\" @click=\"toComment\" v-if=\"longComment.length\">\r\n            查看全部{{ longComment.length ? longComment.length : 0 }}条书评\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"relevant\" v-if=\"relevant.length\">\r\n          <p>相关推荐</p>\r\n          <van-divider\r\n            :style=\"{\r\n              backgroundColor: '#fff',\r\n              borderColor: '#ddd',\r\n              margin: 0,\r\n              padding: '5px 0',\r\n            }\"\r\n          />\r\n          <ul>\r\n            <li\r\n              v-for=\"(item, index) in relevant\"\r\n              :key=\"index\"\r\n              @click=\"toDetail(item._id)\"\r\n            >\r\n              <img :src=\"`http://statics.zhuishushenqi.com${item.cover}`\" />\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </van-skeleton>\r\n\r\n    <van-popup\r\n      v-model=\"show\"\r\n      position=\"left\"\r\n      closeable\r\n      :style=\"{ height: '100%', width: '70%' }\"\r\n    >\r\n      <Catalogue\r\n        v-if=\"currentBookSource\"\r\n        :count=\"currentBookSource.chaptersCount\"\r\n        :chapters=\"currentBookChapters\"\r\n        :loading=\"cataLoading\"\r\n      ></Catalogue>\r\n    </van-popup>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from \"vuex\";\r\nimport Header from \"@/components/Header.vue\";\r\nimport Catalogue from \"@/components/Catalogue.vue\";\r\n\r\nexport default {\r\n  name: \"BookDetail\",\r\n  props: [\"shortComment\", \"longComment\"],\r\n  components: {\r\n    Header,\r\n    Catalogue,\r\n  },\r\n  data() {\r\n    return {\r\n      isShort: true, //书籍描述是否显示完全\r\n      show: false, //是否显示目录\r\n      loading: true, //书籍详情骨架屏\r\n      cataLoading: true, //目录骨架屏\r\n      isFinish: false, //是否加载完目录\r\n      // shortComment: [], //短评\r\n      // longComment: [], //长评\r\n      shortNum: 0, //短评总数\r\n      longNum: 0, //长评总数\r\n      axiosNum: 0,\r\n      relevant: [], //相关推荐\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState([\"currentBook\", \"currentBookSource\", \"currentBookChapters\"]),\r\n    popularity() {\r\n      if (this.currentBook.latelyFollower > 10000) {\r\n        return (this.currentBook.latelyFollower / 10000).toFixed(2) + \"万\";\r\n      } else {\r\n        return this.currentBook.latelyFollower;\r\n      }\r\n    },\r\n    date() {\r\n      var reg = /\\d{4}-\\d{2}-\\d{2}/gi;\r\n      return this.currentBook.updated.match(reg)[0];\r\n    },\r\n    bool() {\r\n      if (localStorage.getItem(this.$route.query.id)) {\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    },\r\n  },\r\n  watch: {\r\n    currentBookChapters() {\r\n      this.cataLoading = false;\r\n    },\r\n    isFinish() {\r\n      console.log(\"目录加载完毕\");\r\n    },\r\n    \"$route.query.id\"() {\r\n      this.initData();\r\n      this.renderPage();\r\n    },\r\n  },\r\n  created() {\r\n    this.renderPage();\r\n  },\r\n  beforeRouteEnter(to, from, next) {\r\n    next((vm) => {\r\n      vm.$store.commit(\"updateStar\", true);\r\n    });\r\n  },\r\n  beforeRouteLeave(to, from, next) {\r\n    this.$store.commit(\"updateStar\", false);\r\n    next();\r\n  },\r\n  methods: {\r\n    initData() {\r\n      this.isShort = true;\r\n      this.show = false;\r\n      this.loading = true;\r\n      this.cataLoading = true;\r\n      this.isFinish = false;\r\n      this.shortNum = 0;\r\n      this.longNum = 0;\r\n      this.axiosNum = 0;\r\n      this.relevant = [];\r\n    },\r\n    renderPage() {\r\n      this.axios.get(`/book-info/${this.$route.query.id}`).then((response) => {\r\n        // console.log(response.data);\r\n        this.$store.commit(\"updateCurrentBook\", response.data);\r\n        this.axiosNum = this.axiosNum + 1;\r\n        if (this.axiosNum == 4) {\r\n          this.loading = false;\r\n        }\r\n      });\r\n\r\n      var getSource = this.axios\r\n        .get(`/book-sources?view=summary&book=${this.$route.query.id}`)\r\n        .then((response) => {\r\n          // console.log(response.data[0]);\r\n          this.$store.commit(\"updateCurrentBookSource\", response.data[0]);\r\n        });\r\n\r\n      getSource.then(() => {\r\n        this.axios\r\n          .get(`/book-chapters/${this.currentBookSource._id}`)\r\n          .then((response) => {\r\n            this.$store.commit(\r\n              \"updateCurrentBookChapters\",\r\n              response.data.chapters\r\n            );\r\n            this.isFinish = true;\r\n          });\r\n      });\r\n\r\n      this.axios\r\n        .get(`/book/short-reviews?book=${this.$route.query.id}`)\r\n        .then((response) => {\r\n          // console.log(response.data.docs);\r\n          this.$emit(\"update:shortComment\", response.data.docs);\r\n          this.shortNum = response.data.docs.length;\r\n\r\n          this.axiosNum = this.axiosNum + 1;\r\n          if (this.axiosNum == 4) {\r\n            this.loading = false;\r\n          }\r\n        });\r\n\r\n      this.axios\r\n        .get(`/book/reviews?book=${this.$route.query.id}&limit=30`)\r\n        .then((response) => {\r\n          // console.log(response.data.reviews);\r\n          if (response.data.reviews.length > 30) {\r\n            this.$emit(\"update:longComment\", response.data.reviews);\r\n            this.longNum = response.data.reviews.length;\r\n          } else {\r\n            // this.longComment = response.data.reviews;\r\n            this.$emit(\"update:longComment\", response.data.reviews);\r\n            this.longNum = response.data.reviews.length;\r\n          }\r\n\r\n          this.axiosNum = this.axiosNum + 1;\r\n          if (this.axiosNum == 4) {\r\n            this.loading = false;\r\n          }\r\n        });\r\n\r\n      this.axios.get(`/recommend/${this.$route.query.id}`).then((response) => {\r\n        this.relevant = response.data.books.slice(1, 10);\r\n\r\n        this.axiosNum = this.axiosNum + 1;\r\n        if (this.axiosNum == 4) {\r\n          this.loading = false;\r\n        }\r\n      });\r\n    },\r\n    startRead() {\r\n      if (!this.isFinish) {\r\n        this.$toast(\"目录更新中...\");\r\n        return;\r\n      }\r\n      this.$router\r\n        .push(`/chapter?id=${this.currentBook._id}&index=0`)\r\n        .catch((err) => err);\r\n    },\r\n    continueRead() {\r\n      if (!this.isFinish) {\r\n        this.$toast(\"目录更新中...\");\r\n        return;\r\n      }\r\n      var index = Number(localStorage.getItem(this.$route.query.id));\r\n      this.$router\r\n        .push(`/chapter?id=${this.currentBook._id}&index=${index}`)\r\n        .catch((err) => err);\r\n    },\r\n    toComment() {\r\n      var id = this.$route.query.id;\r\n      this.$router.push({\r\n        name: \"Comment\",\r\n        query: { id: id },\r\n      });\r\n    },\r\n    toDetail(id) {\r\n      if (this.$route.query.id == id) {\r\n        return;\r\n      }\r\n      this.$router.push({\r\n        name: \"BookDetail\",\r\n        query: { id: id },\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.book-detail {\r\n  .van-skeleton {\r\n    margin-top: 60px;\r\n  }\r\n  .book {\r\n    min-height: calc(100vh - 50px);\r\n    background-color: rgb(240, 240, 240);\r\n    // margin: 60px 10px 0 10px;\r\n    padding: 50px 0;\r\n    .detail {\r\n      padding: 10px;\r\n      background-color: #fff;\r\n      // padding-bottom: 10px;\r\n      display: flex;\r\n      // border-bottom: 1px solid #ddd;\r\n      .pic {\r\n        flex-basis: 25%;\r\n        img {\r\n          display: block;\r\n          width: 100%;\r\n        }\r\n      }\r\n      .info {\r\n        margin-left: 12px;\r\n        flex: 1;\r\n        display: flex;\r\n        align-content: space-around;\r\n        flex-wrap: wrap;\r\n        .title {\r\n          flex-basis: 100%;\r\n          font-size: 16px;\r\n\r\n          word-wrap: break-word;\r\n          overflow: hidden;\r\n          text-overflow: ellipsis;\r\n          display: -webkit-box;\r\n          -webkit-line-clamp: 1; /*行数*/\r\n          -webkit-box-orient: vertical;\r\n        }\r\n        .other {\r\n          flex-basis: 100%;\r\n          font-size: 13px;\r\n          color: #666;\r\n          > span {\r\n            display: inline-block;\r\n          }\r\n          .author {\r\n            color: #b93321;\r\n          }\r\n          // .cate {\r\n          // }\r\n          // .popularity {\r\n          // }\r\n          .split {\r\n            margin: 0 5px;\r\n          }\r\n        }\r\n        .retention,\r\n        .update {\r\n          flex-basis: 100%;\r\n          font-size: 13px;\r\n          color: #666;\r\n        }\r\n        .update {\r\n          display: flex;\r\n          justify-content: space-between;\r\n          align-items: center;\r\n          .van-button {\r\n            padding: 0 10px;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    .desc {\r\n      background-color: #fff;\r\n      color: #444;\r\n      padding: 10px 10px 0 10px;\r\n      line-height: 24px;\r\n      font-size: 14px;\r\n      position: relative;\r\n\r\n      .van-icon {\r\n        position: absolute;\r\n        right: 6px;\r\n        bottom: 0;\r\n      }\r\n      &.short {\r\n        word-wrap: break-word;\r\n        overflow: hidden;\r\n        text-overflow: ellipsis;\r\n        display: -webkit-box;\r\n        -webkit-line-clamp: 3; /*行数*/\r\n        -webkit-box-orient: vertical;\r\n      }\r\n    }\r\n    .catalogue {\r\n      background-color: #fff;\r\n      font-size: 16px;\r\n      // border-top: 1px solid #ddd;\r\n      // border-bottom: 1px solid #ddd;\r\n      padding: 12px 10px;\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n      > p {\r\n        flex-basis: 40%;\r\n      }\r\n      .lastest {\r\n        font-size: 13px;\r\n        position: relative;\r\n\r\n        word-wrap: break-word;\r\n        overflow: hidden;\r\n        text-overflow: ellipsis;\r\n        display: -webkit-box;\r\n        -webkit-line-clamp: 1; /*行数*/\r\n        -webkit-box-orient: vertical;\r\n        > p {\r\n          margin-right: 12px;\r\n        }\r\n        .van-icon {\r\n          position: absolute;\r\n          top: 3px;\r\n          right: 0;\r\n        }\r\n      }\r\n    }\r\n    .shortcomment {\r\n      background-color: #fff;\r\n      padding: 10px 10px 0 10px;\r\n      margin-top: 8px;\r\n      .title {\r\n        span {\r\n          font-size: 12px;\r\n          color: #888;\r\n          margin-left: 10px;\r\n        }\r\n      }\r\n      .van-swipe {\r\n        // margin-top: 10px;\r\n        padding-top: 4px;\r\n        height: 135px;\r\n        // border-bottom: 1px solid #ddd;\r\n        .van-swipe-item {\r\n          position: relative;\r\n          padding-top: 2px;\r\n          font-size: 14px;\r\n          height: 135px;\r\n          .info {\r\n            display: flex;\r\n            align-items: center;\r\n            .avatar {\r\n              width: 34px;\r\n              height: 34px;\r\n              border-radius: 50%;\r\n              overflow: hidden;\r\n              img {\r\n                display: block;\r\n                width: 100%;\r\n              }\r\n            }\r\n            .nickname {\r\n              margin: 0 10px;\r\n              color: #555;\r\n            }\r\n            .level {\r\n              font-size: 12px;\r\n              padding: 0 5px;\r\n              color: #777;\r\n              border: 1px solid #bbb;\r\n              border-radius: 8px;\r\n            }\r\n          }\r\n          .star {\r\n            margin: 6px 0;\r\n            display: flex;\r\n            align-items: center;\r\n            span {\r\n              font-size: 12px;\r\n              color: #ccc;\r\n              margin-left: 6px;\r\n            }\r\n          }\r\n          .content {\r\n            // flex-basis: 100%;\r\n            font-size: 13px;\r\n            padding-right: 6px;\r\n\r\n            word-wrap: break-word;\r\n            overflow: hidden;\r\n            text-overflow: ellipsis;\r\n            display: -webkit-box;\r\n            -webkit-line-clamp: 2; /*行数*/\r\n            -webkit-box-orient: vertical;\r\n          }\r\n          .date {\r\n            font-size: 13px;\r\n            position: absolute;\r\n            bottom: 10px;\r\n            color: #888;\r\n            span {\r\n              margin-right: 4px;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    .longcomment {\r\n      margin-top: 8px;\r\n      background-color: #fff;\r\n      padding: 10px 10px 0 10px;\r\n      .title {\r\n        span {\r\n          font-size: 12px;\r\n          color: #888;\r\n          margin-left: 10px;\r\n        }\r\n      }\r\n      .item {\r\n        height: 150px;\r\n        position: relative;\r\n        margin-bottom: 10px;\r\n        .van-divider {\r\n          position: absolute;\r\n          width: 100%;\r\n          bottom: 0;\r\n        }\r\n        .info {\r\n          // flex-basis: 100%;\r\n          margin-top: 10px;\r\n          display: flex;\r\n          align-items: center;\r\n          .avatar {\r\n            width: 34px;\r\n            height: 34px;\r\n            border-radius: 50%;\r\n            overflow: hidden;\r\n            img {\r\n              display: block;\r\n              width: 100%;\r\n            }\r\n          }\r\n          .nickname {\r\n            font-size: 14px;\r\n            margin: 0 10px;\r\n            color: #555;\r\n          }\r\n          .level {\r\n            font-size: 12px;\r\n            padding: 0 5px;\r\n            color: #777;\r\n            border: 1px solid #bbb;\r\n            border-radius: 8px;\r\n          }\r\n        }\r\n        .star {\r\n          margin: 6px 0;\r\n          display: flex;\r\n          align-items: center;\r\n          span {\r\n            font-size: 12px;\r\n            color: #ccc;\r\n            margin-left: 6px;\r\n          }\r\n        }\r\n        .tit {\r\n          font-size: 14px;\r\n          padding-right: 6px;\r\n\r\n          word-wrap: break-word;\r\n          overflow: hidden;\r\n          text-overflow: ellipsis;\r\n          display: -webkit-box;\r\n          -webkit-line-clamp: 1; /*行数*/\r\n          -webkit-box-orient: vertical;\r\n        }\r\n        .content {\r\n          // flex-basis: 100%;\r\n          font-size: 13px;\r\n          padding-right: 6px;\r\n          color: #666;\r\n\r\n          word-wrap: break-word;\r\n          overflow: hidden;\r\n          text-overflow: ellipsis;\r\n          display: -webkit-box;\r\n          -webkit-line-clamp: 2; /*行数*/\r\n          -webkit-box-orient: vertical;\r\n        }\r\n        .bottom {\r\n          position: absolute;\r\n          width: 100%;\r\n          bottom: 6px;\r\n          font-size: 13px;\r\n          color: #888;\r\n          display: flex;\r\n          .left {\r\n            span {\r\n              margin-right: 4px;\r\n            }\r\n          }\r\n          .right {\r\n            position: absolute;\r\n            right: 10px;\r\n            display: flex;\r\n            .likecount {\r\n              margin: 0 2px;\r\n            }\r\n          }\r\n        }\r\n      }\r\n      .checkall {\r\n        text-align: center;\r\n        font-size: 14px;\r\n        color: #b93321;\r\n        padding-bottom: 15px;\r\n        letter-spacing: 1px;\r\n      }\r\n    }\r\n    .relevant {\r\n      margin-top: 8px;\r\n      background-color: #fff;\r\n      width: 100vw;\r\n      padding: 10px;\r\n      ul {\r\n        display: flex;\r\n        flex-wrap: nowrap;\r\n        width: 100%;\r\n        overflow-x: scroll;\r\n        li {\r\n          flex: 1 0 25%;\r\n          margin-right: 10px;\r\n          margin-top: 5px;\r\n          img {\r\n            display: block;\r\n            width: 100%;\r\n            height: 100%;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BookDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BookDetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BookDetail.vue?vue&type=template&id=7b229da7&scoped=true&\"\nimport script from \"./BookDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./BookDetail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BookDetail.vue?vue&type=style&index=0&id=7b229da7&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7b229da7\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar anObject = require('../internals/an-object');\nvar toLength = require('../internals/to-length');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar regExpExec = require('../internals/regexp-exec-abstract');\n\n// @@match logic\nfixRegExpWellKnownSymbolLogic('match', 1, function (MATCH, nativeMatch, maybeCallNative) {\n  return [\n    // `String.prototype.match` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.match\n    function match(regexp) {\n      var O = requireObjectCoercible(this);\n      var matcher = regexp == undefined ? undefined : regexp[MATCH];\n      return matcher !== undefined ? matcher.call(regexp, O) : new RegExp(regexp)[MATCH](String(O));\n    },\n    // `RegExp.prototype[@@match]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@match\n    function (regexp) {\n      var res = maybeCallNative(nativeMatch, regexp, this);\n      if (res.done) return res.value;\n\n      var rx = anObject(regexp);\n      var S = String(this);\n\n      if (!rx.global) return regExpExec(rx, S);\n\n      var fullUnicode = rx.unicode;\n      rx.lastIndex = 0;\n      var A = [];\n      var n = 0;\n      var result;\n      while ((result = regExpExec(rx, S)) !== null) {\n        var matchStr = String(result[0]);\n        A[n] = matchStr;\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n        n++;\n      }\n      return n === 0 ? null : A;\n    }\n  ];\n});\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Header.vue?vue&type=style&index=0&id=4408bcba&lang=less&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BookDetail.vue?vue&type=style&index=0&id=7b229da7&lang=less&scoped=true&\"","'use strict';\nvar $ = require('../internals/export');\nvar isObject = require('../internals/is-object');\nvar isArray = require('../internals/is-array');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toLength = require('../internals/to-length');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar createProperty = require('../internals/create-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('slice');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('slice', { ACCESSORS: true, 0: 0, 1: 2 });\n\nvar SPECIES = wellKnownSymbol('species');\nvar nativeSlice = [].slice;\nvar max = Math.max;\n\n// `Array.prototype.slice` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.slice\n// fallback for not array-like ES3 strings and DOM objects\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  slice: function slice(start, end) {\n    var O = toIndexedObject(this);\n    var length = toLength(O.length);\n    var k = toAbsoluteIndex(start, length);\n    var fin = toAbsoluteIndex(end === undefined ? length : end, length);\n    // inline `ArraySpeciesCreate` for usage native `Array#slice` where it's possible\n    var Constructor, result, n;\n    if (isArray(O)) {\n      Constructor = O.constructor;\n      // cross-realm fallback\n      if (typeof Constructor == 'function' && (Constructor === Array || isArray(Constructor.prototype))) {\n        Constructor = undefined;\n      } else if (isObject(Constructor)) {\n        Constructor = Constructor[SPECIES];\n        if (Constructor === null) Constructor = undefined;\n      }\n      if (Constructor === Array || Constructor === undefined) {\n        return nativeSlice.call(O, k, fin);\n      }\n    }\n    result = new (Constructor === undefined ? Array : Constructor)(max(fin - k, 0));\n    for (n = 0; k < fin; k++, n++) if (k in O) createProperty(result, n, O[k]);\n    result.length = n;\n    return result;\n  }\n});\n"],"sourceRoot":""}