(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-17df5139"],{"66fa":function(t,s,a){"use strict";a("c66c")},"6dc9":function(t,s,a){"use strict";a("b642")},"8dc3":function(t,s,a){"use strict";a.r(s);var i=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"song"},[a("van-tabs",{attrs:{sticky:!0,"offset-top":"1.23rem"},model:{value:t.active,callback:function(s){t.active=s},expression:"active"}},[a("van-tab",{attrs:{title:"综合"}},[a("ul",t._l(t.searchResult,(function(s,i){return a("SongItem",{key:i,attrs:{song:s,index:i},on:{"list-update-playlist":t.updatePl}})})),1)]),a("van-tab",{attrs:{title:"歌手"}},[a("div",{staticClass:"artists"},[a("ul",t._l(t.searchArtists,(function(s){return a("li",{key:s.id,on:{click:function(a){return t.navigate(s.id,s.img1v1Url)}}},[a("div",{staticClass:"pic"},[a("img",{attrs:{src:s.img1v1Url?s.img1v1Url:s.picUrl}})]),a("div",{staticClass:"name"},[t._v(t._s(s.name))])])})),0)])])],1)],1)},e=[],n=(a("d81d"),a("b0c0"),a("cf7e")),c={name:"Song",components:{SongItem:n["a"]},data:function(){return{searchResult:[],active:0,searchArtists:[]}},watch:{active:function(t){var s=this;1==t&&(this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0}),this.axios.get("/search?keywords=".concat(this.$route.query.name,"&type=100")).then((function(t){s.searchArtists=t.data.result.artists,s.$toast.clear()})).catch((function(){s.$toast.clear()})))}},activated:function(){var t=this;console.log("activated"),this.active=0,this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0}),this.axios.get("/search?keywords=".concat(this.$route.query.name)).then((function(s){var a=s.data.result.songs;t.searchResult=a.map((function(t){return t.song||(t.song={},t.song.artists=t.artists),t.picUrl=t.album.artist.img1v1Url,t})),t.$store.commit("updateSearchHistory",t.$route.query.name),t.$toast.clear()})).catch((function(){t.$toast.clear()}))},methods:{updatePl:function(){this.$store.commit("updatePlaylist",this.searchResult)},navigate:function(t,s){this.$emit("update:image",s),this.$router.push({name:"Artist",query:{id:t}})}}},r=c,o=(a("66fa"),a("2877")),u=Object(o["a"])(r,i,e,!1,null,"28f406fa",null);s["default"]=u.exports},b642:function(t,s,a){},c66c:function(t,s,a){},cf7e:function(t,s,a){"use strict";var i=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("li",{staticClass:"song-item"},[a("div",{staticClass:"rank"},[t.index<9?[t._v(" 0"+t._s(t.index+1)+" ")]:[t._v(" "+t._s(t.index+1)+" ")]],2),a("div",{staticClass:"right"},[a("div",{staticClass:"info"},[a("div",{staticClass:"name"},[t._v(t._s(t.song.name))]),a("div",{staticClass:"author"},t._l(t.song.ar?t.song.ar:t.song.artists,(function(s,i){return a("span",{key:i},[i?[t._v(" / ")]:t._e(),t._v(t._s(s.name)+" ")],2)})),0)]),a("div",{staticClass:"icon",on:{click:t.togglePlay}},[t.paused&&1==t.paused?[a("van-icon",{attrs:{name:"play-circle-o"}})]:t.currentmusic&&t.currentmusic.id===t.song.id?[a("van-icon",{attrs:{name:"pause-circle-o"}})]:[a("van-icon",{attrs:{name:"play-circle-o"}})]],2)])])},e=[],n=a("5530"),c=a("2f62"),r={name:"SongItem",props:["song","index"],computed:Object(n["a"])({},Object(c["b"])(["currentmusic","paused","playlist"])),methods:{togglePlay:function(){var t=this.song,s=this.index;if(!t.song){t.song={};var a=t.ar?t.ar:t.artists;t.song.artists=a}this.$store.commit("updateCurrentmusic",t),this.$store.commit("updateCurrentindex",s),this.$emit("list-update-playlist")}}},o=r,u=(a("6dc9"),a("2877")),l=Object(u["a"])(o,i,e,!1,null,"275b75b2",null);s["a"]=l.exports}}]);
//# sourceMappingURL=chunk-17df5139.93b0d1d8.js.map