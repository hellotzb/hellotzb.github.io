(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-130a14ea"],{"2d3b":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"search"},[t.isHot?i("div",{staticClass:"hot"},[i("div",{staticClass:"title"},[t._v("热搜榜")]),i("ul",{staticClass:"rank"},t._l(t.hots,(function(e,s){return i("li",{key:s},[i("div",{staticClass:"num",class:{active:s<3}},[t._v(t._s(s+1))]),i("div",{staticClass:"name",on:{click:function(i){return t.navigate(e.searchWord)}}},[t._v(" "+t._s(e.searchWord)+" ")])])})),0)]):i("div",{staticClass:"searching"},[i("ul",{staticClass:"content"},t._l(t.searchs,(function(e){return i("li",{key:e.id,on:{click:function(i){return t.navigate(e)}}},[t._v(" "+t._s(e)+" ")])})),0)]),t.searchHistory.length?i("div",{staticClass:"history"},[i("div",{staticClass:"title"},[t._v("历史记录")]),t.searchHistory?i("ul",t._l(t.searchHistory,(function(e,s){return i("li",{key:s},[i("div",{staticClass:"name",on:{click:function(e){return t.navigate(t.searchHistory[s])}}},[t._v(" "+t._s(t.searchHistory[s])+" ")]),i("div",{staticClass:"delete",on:{click:function(e){return t.deleteHistory(s)}}},[i("van-icon",{attrs:{name:"cross"}})],1)])})),0):t._e(),i("div",{staticClass:"clear-all",on:{click:t.clearAll}},[t._v(" 清空所有历史记录 ")])]):t._e()])},n=[],a=(i("99af"),i("4de4"),i("4160"),i("caad"),i("c975"),i("fb6a"),i("a434"),i("b0c0"),i("2532"),i("498a"),i("159b"),i("5530")),c=i("2f62"),r={name:"Search",props:["msg","isHot"],computed:Object(a["a"])({},Object(c["b"])(["currentmusic","paused","searchs","searchHistory"])),data:function(){return{hots:[],timer:null}},watch:{msg:function(){var t=this;this.msg.trim()?(clearTimeout(this.timer),this.timer=setTimeout((function(){""!=t.msg&&t.axios.get("/search?keywords=".concat(t.msg,"&limit=30")).then((function(e){var i=e.data.result.songs,s=[],n=[];i.filter((function(e){-1==s.indexOf(e.name)&&e.name.includes(t.msg)&&s.push(e.name),e.artists.forEach((function(e){-1==n.indexOf(e.name)&&e.name.includes(t.msg)&&n.push(e.name)}))})),t.$store.commit("updateSearchs",s.concat(n))})).catch((function(){}))}),500)):this.$emit("update:isHot",!0)}},created:function(){var t=this;this.axios.get("/search/hot/detail").then((function(e){t.hots=e.data.data.slice(0,10)}))},methods:{navigate:function(t){this.$emit("update:msg",t),this.$router.push({name:"Song",query:{name:t}})},deleteHistory:function(t){var e=this.searchHistory.concat();e.splice(t,1),this.$store.commit("resetSearchHistory",e)},clearAll:function(){this.$store.commit("resetSearchHistory",[])}}},o=r,u=(i("91b9"),i("2877")),l=Object(u["a"])(o,s,n,!1,null,"183ba4c8",null);e["default"]=l.exports},"32f0":function(t,e,i){},"498a":function(t,e,i){"use strict";var s=i("23e7"),n=i("58a8").trim,a=i("c8d2");s({target:"String",proto:!0,forced:a("trim")},{trim:function(){return n(this)}})},"91b9":function(t,e,i){"use strict";i("32f0")},c8d2:function(t,e,i){var s=i("d039"),n=i("5899"),a="​᠎";t.exports=function(t){return s((function(){return!!n[t]()||a[t]()!=a||n[t].name!==t}))}},c975:function(t,e,i){"use strict";var s=i("23e7"),n=i("4d64").indexOf,a=i("a640"),c=i("ae40"),r=[].indexOf,o=!!r&&1/[1].indexOf(1,-0)<0,u=a("indexOf"),l=c("indexOf",{ACCESSORS:!0,1:0});s({target:"Array",proto:!0,forced:o||!u||!l},{indexOf:function(t){return o?r.apply(this,arguments)||0:n(this,t,arguments.length>1?arguments[1]:void 0)}})},fb6a:function(t,e,i){"use strict";var s=i("23e7"),n=i("861d"),a=i("e8b5"),c=i("23cb"),r=i("50c4"),o=i("fc6a"),u=i("8418"),l=i("b622"),d=i("1dde"),f=i("ae40"),h=d("slice"),m=f("slice",{ACCESSORS:!0,0:0,1:2}),v=l("species"),p=[].slice,g=Math.max;s({target:"Array",proto:!0,forced:!h||!m},{slice:function(t,e){var i,s,l,d=o(this),f=r(d.length),h=c(t,f),m=c(void 0===e?f:e,f);if(a(d)&&(i=d.constructor,"function"!=typeof i||i!==Array&&!a(i.prototype)?n(i)&&(i=i[v],null===i&&(i=void 0)):i=void 0,i===Array||void 0===i))return p.call(d,h,m);for(s=new(void 0===i?Array:i)(g(m-h,0)),l=0;h<m;h++,l++)h in d&&u(s,l,d[h]);return s.length=l,s}})}}]);
//# sourceMappingURL=chunk-130a14ea.d753bf7f.js.map